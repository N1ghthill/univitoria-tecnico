# .github/workflows/portal-school-notify.yml
name: Portal Escola Updates
on:
  push:
    branches: [ main, develop ]
    paths:
      - 'src/**'
      - 'public/**'
      - 'package.json'
      - '.github/workflows/**'

jobs:
  notify-discord:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        uses: appleboy/discord-action@v1.0.0
        with:
          webhook_id: ${{ secrets.DISCORD_WEBHOOK_ID }}
          webhook_token: ${{ secrets.DISCORD_WEBHOOK_TOKEN }}
          username: "Portal Escola Bot"
          avatar_url: "https://cdn-icons-png.flaticon.com/512/2232/2232688.png"
          message: |
            ğŸš€ **PORTAL ESCOLA - Nova AtualizaÃ§Ã£o**
            
            ğŸ“Œ **RepositÃ³rio:** ${{ github.event.repository.name }}
            ğŸ‘¨â€ğŸ’» **Por:** ${{ github.actor }}
            ğŸ“ **Commit:** ${{ github.event.head_commit.message }}
            ğŸ”— **Ver commit:** https://github.com/${{ github.repository }}/commit/${{ github.sha }}
            
            ğŸŒ **Acessar portal:** https://n1ghthill.github.io/univitoria-tecnico/
            ğŸ”§ **Tech Stack:** React/Node.js/MySQL
            
            ---
            ğŸ« *Sistema de gestÃ£o escolar em desenvolvimento ativo*
